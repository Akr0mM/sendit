<template name="app"> {{> Template.dynamic template=mainTemplate}} </template>

<template name="chat">
  <div class="chat">
    {{> navbar}} {{#if openChat}} {{> chatOpen}} {{else}} {{> chatClose}}
    {{/if}}
  </div>

  {{#if showModal}} {{> accountSettingsModal}} {{/if}}
</template>

<template name="chatOpen">
  <div class="chat-container">
    <div class="header-group-names" id="group-names">
      <div class="group-names">
        {{#each groupNames}} {{> groupName}} {{/each}}
      </div>
    </div>
    <div class="chat-messages">{{> chatMessages}} {{> form}}</div>
  </div>
</template>

<template name="chatClose">
  <div class="chat-close">
    ⇐ Ouvrez un chat pour commencer à envoyer des messages ⇐
  </div>
</template>

<template name="groupName">
  <div class="group-name-container">
    <div class="group-user-container">
      {{#if profilePictureId}}
      <img class="group-profile-picture" src="{{profilePicture.link}}" alt="{{profilePicture.name}}" />
      {{else}}
      <span class="group-profile-picture">{{firstLetter}}</span>
      {{/if}}
      <div class="group-username">{{username}}</div>
    </div>

    <div class="profile-dropdown-menu">
      <ul class="profile-dropdown-list">
        <li>{{username}}</li>
      </ul>
    </div>
  </div>
</template>